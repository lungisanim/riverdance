{"version":3,"sources":["views/LoginPage.js","components/TermsCard.js","views/TermsPage.js","components/LoggedInUserInfo.js","views/UserInfoPage.tsx","app.js","index.js"],"names":["LoginPage","_ref","onSuccess","onError","text","setText","useState","fullText","useEffect","index","timer","setInterval","length","prev","clearInterval","React","createElement","className","GoogleLogin","TermsCard","onAccept","onReject","onClick","TermsPage","LoggedInUserInfo","userInfo","onLogout","isDropdownOpen","setDropdownOpen","userPicture","setUserPicture","picture","handleClickOutside","event","target","closest","document","addEventListener","removeEventListener","toggleDropdown","aria-haspopup","aria-expanded","src","alt","name","role","email","handleLogout","UserInfoPage","questions","setQuestions","currentStep","setCurrentStep","answers","setAnswers","loading","setLoading","console","log","handleAnswerChange","questionId","answer","file","prevAnswers","existingAnswerIndex","findIndex","a","updatedAnswers","currentQuestion","onSubmit","async","e","preventDefault","formData","FormData","append","username","forEach","axios","post","headers","Content-Type","alert","error","onChange","id","value","required","type","_e$target$files","files","_answers$find","find","App","page","setPage","setUserInfo","responseMessage","response","responseDetails","jwtDecode","credential","userDetails","givenName","familyName","emailVerified","domain","hd","errorMessage","acceptTerms","rejectTerms","googleLogout","renderPage","ReactDOM","createRoot","getElementById","render","GoogleOAuthProvider","clientId","StrictMode"],"mappings":"qPA6BeA,MA1Bf,SAAkBC,GAAyB,IAAxBC,UAAEA,EAASC,QAAEA,GAASF,EACrC,MAAOG,EAAMC,GAAWC,mBAAS,IAC3BC,EAAW,6CAgBjB,OAdAC,oBAAU,KACN,IAAIC,EAAQ,EACZ,MAAMC,EAAQC,YAAY,KAClBF,EAAQF,EAASK,OAAS,GAC1BP,EAASQ,GAASA,EAAON,EAASE,IAClCA,KAEAK,cAAcJ,IAEnB,KAEH,MAAO,IAAMI,cAAcJ,IAC5B,IAGCK,IAAAC,cAAA,OAAKC,UAAU,aACXF,IAAAC,cAAA,UAAKZ,GACLW,IAAAC,cAACE,IAAW,CAAChB,UAAWA,EAAWC,QAASA,YCMzCgB,MA3Bf,SAAkBlB,GAAyB,IAAxBmB,SAAEA,EAAQC,SAAEA,GAAUpB,EACrC,OACIc,IAAAC,cAAA,OAAKC,UAAU,wBACXF,IAAAC,cAAA,OAAKC,UAAU,mBACXF,IAAAC,cAAA,OAAKC,UAAU,aACXF,IAAAC,cAAA,UAAI,wBACJD,IAAAC,cAAA,SAAG,+DACHD,IAAAC,cAAA,SAAG,sHACHD,IAAAC,cAAA,SAAG,mHACHD,IAAAC,cAAA,SAAG,mHACHD,IAAAC,cAAA,SAAG,+JACHD,IAAAC,cAAA,SAAG,oHACHD,IAAAC,cAAA,SAAG,uGACHD,IAAAC,cAAA,SAAG,qIACHD,IAAAC,cAAA,SAAG,wHACHD,IAAAC,cAAA,SAAG,0HACHD,IAAAC,cAAA,SAAG,0RAEPD,IAAAC,cAAA,OAAKC,UAAU,qCACXF,IAAAC,cAAA,UAAQC,UAAU,kBAAkBK,QAASF,GAAU,UACvDL,IAAAC,cAAA,UAAQC,UAAU,oBAAoBK,QAASD,GAAU,cCZ9DE,MARf,SAAkBtB,GAAyB,IAAxBmB,SAAEA,EAAQC,SAAEA,GAAUpB,EACrC,OACIc,IAAAC,cAAA,OAAKC,UAAU,aACXF,IAAAC,cAACG,EAAS,CAACC,SAAUA,EAAUC,SAAUA,oBCuCtCG,MA1CUvB,IAA4B,IAA3BwB,SAAEA,EAAQC,SAAEA,GAAUzB,EAC9C,MAAO0B,EAAgBC,GAAmBtB,oBAAS,IAC5CuB,EAAaC,GAAkBxB,mBAASmB,EAASM,SAqBxD,OAdAvB,oBAAU,KACR,MAAMwB,EAAsBC,IACrBA,EAAMC,OAAOC,QAAQ,yBACxBP,GAAgB,IAMpB,OAFAQ,SAASC,iBAAiB,QAASL,GAE5B,KACLI,SAASE,oBAAoB,QAASN,KAEvC,IAGDjB,IAAAC,cAAA,OAAKC,UAAU,uBACbF,IAAAC,cAAA,OAAKC,UAAU,YAAYK,QAtBRiB,IAAMX,EAAgBf,IAASA,GAsBE2B,gBAAc,OAAOC,gBAAed,GACtFZ,IAAAC,cAAA,OAAK0B,IAAKb,EAAac,IAAI,OAAO1B,UAAU,iBAC5CF,IAAAC,cAAA,QAAMC,UAAU,aAAaQ,EAASmB,OAExC7B,IAAAC,cAAA,WACCW,GACCZ,IAAAC,cAAA,OAAKC,UAAU,gBAAgB4B,KAAK,QAClC9B,IAAAC,cAAA,OAAKC,UAAU,gBACbF,IAAAC,cAAA,KAAGC,UAAU,cAAcQ,EAASqB,OACpC/B,IAAAC,cAAA,UAAQC,UAAU,gBAAgBK,QA7BvByB,KACnBrB,KA4BiEmB,KAAK,YAAW,cCwGtEG,MA9HkG/C,IAAkB,IAAjBwB,SAAEA,GAAUxB,EAC5H,MAAOgD,EAAWC,GAAgB5C,mBAAqB,KAChD6C,EAAaC,GAAkB9C,mBAAS,IACxC+C,EAASC,GAAchD,mBAAuB,KAC9CiD,EAASC,GAAclD,oBAAS,GAGvCE,oBAAU,KAcRiD,QAAQC,IAAIjC,IAEX,IAEH,MAAMkC,EAAqBA,CAACC,EAAoBC,EAAgBC,KAC9DR,EAAWS,IACT,MAAMC,EAAsBD,EAAYE,UAAUC,GAAKA,EAAEN,aAAeA,GAExE,GAAII,GAAuB,EAAG,CAC5B,MAAMG,EAAiB,IAAIJ,GAE3B,OADAI,EAAeH,GAAuB,CAAEJ,aAAYC,SAAQC,QACrDK,EAGT,MAAO,IAAIJ,EAAa,CAAEH,aAAYC,SAAQC,YA4B5CM,EAAkBnB,EAAUE,GAOlC,OACEpC,IAAAC,cAAA,OAAKC,UAAU,kBACbF,IAAAC,cAACQ,EAAgB,CAACC,SAAUA,EAAUC,SAPrBqB,KAEnBU,QAAQC,IAAI,sBAMV3C,IAAAC,cAAA,UAAI,aACHuC,EACCxC,IAAAC,cAAA,SAAG,wBAEHoD,EACErD,IAAAC,cAAA,QAAMqD,SAvCOC,UACnBC,EAAEC,iBAEF,MAAMC,EAAW,IAAIC,SACrBD,EAASE,OAAO,WAAYlD,EAASmD,UAErCvB,EAAQwB,QAAQhB,IACdY,EAASE,kBAAkBd,EAAOD,oBAAqBC,EAAOA,QAC1DA,EAAOC,MACTW,EAASE,kBAAkBd,EAAOD,oBAAqBC,EAAOC,QAIlE,UACQgB,IAAMC,KAAK,0BAA2BN,EAAU,CACpDO,QAAS,CAAEC,eAAgB,yBAE7BC,MAAM,uCACN,MAAOC,GACP1B,QAAQ0B,MAAM,oBAAqBA,GACnCD,MAAM,mCAoBAnE,IAAAC,cAAA,OAAKC,UAAU,sBACbF,IAAAC,cAAA,aAAQoD,EAAgBhE,MACxBW,IAAAC,cAAA,YACEoE,SAAWb,GAAMZ,EAAmBS,EAAgBiB,GAAId,EAAErC,OAAOoD,OACjEC,UAAQ,IAEVxE,IAAAC,cAAA,SACEwE,KAAK,OACLJ,SAAWb,IAAM,IAAAkB,EACf,MAAM3B,EAAqB,QAAjB2B,EAAGlB,EAAErC,OAAOwD,aAAK,IAAAD,OAAA,EAAdA,EAAiB,GACpB,IAAAE,EAAN7B,GACFH,EAAmBS,EAAgBiB,IAA0D,QAAtDM,EAAAtC,EAAQuC,KAAK1B,GAAKA,EAAEN,aAAeQ,EAAgBiB,WAAG,IAAAM,OAAA,EAAtDA,EAAwD9B,SAAU,GAAIC,OAMrH/C,IAAAC,cAAA,OAAKC,UAAU,sBACZkC,EAAc,GACbpC,IAAAC,cAAA,UACEwE,KAAK,SACLlE,QAASA,IAAM8B,EAAevC,GAAQA,EAAO,IAC9C,YAKFsC,EAAcF,EAAUrC,OAAS,EAChCG,IAAAC,cAAA,UACEwE,KAAK,SACLlE,QAASA,IAAM8B,EAAevC,GAAQA,EAAO,IAC9C,QAIDE,IAAAC,cAAA,UAAQwE,KAAK,UAAS,wBAK5BzE,IAAAC,cAAA,SAAG,qCCjEE6E,MA7Df,WACI,MAAOC,EAAMC,GAAWzF,mBAAS,UAC1BmB,EAAUuE,GAAe1F,mBAAS,MAEnC2F,EAAmBC,IAErB,MAAMC,EAAkBC,YAAUF,EAASG,YAC3C,IAEI,MAAMC,EAAc,CAChB1D,KAAMuD,EAAgBvD,KACtBE,MAAOqD,EAAgBrD,MACvByD,UAAWJ,EAAgBI,UAC3BC,WAAYL,EAAgBK,WAC5BzE,QAASoE,EAAgBpE,QACzB0E,cAAeN,EAAgBM,cAC/BC,OAAQP,EAAgBQ,IAG5BlD,QAAQC,IAAI,gBAAiB4C,GAC7BN,EAAYM,GACZP,EAAQ,SACV,MAAOZ,GACL1B,QAAQ0B,MAAM,qCAAsCA,KAItDyB,EAAgBzB,IAClB1B,QAAQC,IAAIyB,IAGV0B,EAAcA,KAChBd,EAAQ,aAGNe,EAAcA,KAChBC,cACAf,EAAY,MACZD,EAAQ,UAgBZ,OACIhF,IAAAC,cAAA,OAAKC,UAAU,OAdA+F,MACf,OAAOlB,GACH,IAAK,QACD,OAAO/E,IAAAC,cAAChB,EAAS,CAACE,UAAW+F,EAAiB9F,QAASyG,IAC3D,IAAK,QACD,OAAO7F,IAAAC,cAACO,EAAS,CAACH,SAAUyF,EAAaxF,SAAUyF,IACvD,IAAK,WACD,OAAO/F,IAAAC,cAACgC,EAAY,CAACvB,SAAUA,IACnC,QACI,OAAO,OAMVuF,KC1DAC,IAASC,WAAW9E,SAAS+E,eAAe,SACpDC,OACHrG,IAAAC,cAACqG,IAAmB,CAACC,SAAS,4EAC5BvG,IAAAC,cAACD,IAAMwG,WAAU,KACfxG,IAAAC,cAAC6E,EAAG","file":"static/js/main.16e39e6a.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { GoogleLogin } from '@react-oauth/google';\r\n\r\nfunction LoginPage({ onSuccess, onError }) {\r\n    const [text, setText] = useState('');\r\n    const fullText = '.... create the things you want to see ...';\r\n\r\n    useEffect(() => {\r\n        let index = 0;\r\n        const timer = setInterval(() => {\r\n            if (index < fullText.length - 1) {\r\n                setText((prev) => prev + fullText[index]);\r\n                index++;\r\n            } else {\r\n                clearInterval(timer);\r\n            }\r\n        }, 100); \r\n\r\n        return () => clearInterval(timer);\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"app-login\">\r\n            <h2>{text}</h2>\r\n            <GoogleLogin onSuccess={onSuccess} onError={onError} />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default LoginPage;","import React from 'react';\r\nimport './terms.css';\r\n\r\nfunction TermsCard({ onAccept, onReject }) {\r\n    return (\r\n        <div className=\"terms-card-container\">\r\n            <div className=\"card terms-card\">\r\n                <div className=\"card-body\">\r\n                    <h2>Terms and Conditions</h2>\r\n                    <p>Please read and accept our terms and conditions for Forest.</p>\r\n                    <p>1. Acceptance of Terms: By accessing or using Forest service, you agree to be bound by these Terms and Conditions.</p>\r\n                    <p>2. User Responsibilities: You are responsible for maintaining the confidentiality of your account and password.</p>\r\n                    <p>3. Intellectual Property: All content on Forest is protected by copyright and other intellectual property laws.</p>\r\n                    <p>4. User-Generated Content: By submitting content to Forest, you grant us a non-exclusive, royalty-free license to use, modify, and distribute your content.</p>\r\n                    <p>5. Prohibited Activities: Users may not engage in any illegal activities or violate any laws while using Forest.</p>\r\n                    <p>6. Disclaimer of Warranties: Forest is provided \"as is\" without any warranties, express or implied.</p>\r\n                    <p>7. Limitation of Liability: Forest shall not be liable for any indirect, incidental, special, consequential, or punitive damages.</p>\r\n                    <p>8. Governing Law: These terms shall be governed by and construed in accordance with the laws of [Your Jurisdiction].</p>\r\n                    <p>9. Termination: We reserve the right to terminate or suspend your account and access to Forest at our sole discretion.</p>\r\n                    <p>10. Changes to Service: We reserve the right to withdraw or amend Forest service, and any service or material we provide, in our sole discretion without notice. We will not be liable if for any reason all or any part of the service is unavailable at any time or for any period.</p>\r\n                </div>\r\n                <div className=\"card-footer right-alignned-footer\">\r\n                    <button className=\"btn btn-primary\" onClick={onAccept}>Accept</button>\r\n                    <button className=\"btn btn-secondary\" onClick={onReject}>Reject</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default TermsCard;\r\n","import React from 'react';\r\nimport TermsCard from '../components/TermsCard';\r\n\r\nfunction TermsPage({ onAccept, onReject }) {\r\n    return (\r\n        <div className=\"app-terms\">\r\n            <TermsCard onAccept={onAccept} onReject={onReject} />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default TermsPage;\r\n","import React, { useState, useEffect } from 'react';\r\nimport './LoggedInUserInfo.css'; \r\n\r\nconst LoggedInUserInfo = ({ userInfo, onLogout }) => {\r\n  const [isDropdownOpen, setDropdownOpen] = useState(false);\r\n  const [userPicture, setUserPicture] = useState(userInfo.picture); \r\n  const toggleDropdown = () => setDropdownOpen(prev => !prev);\r\n\r\n  const handleLogout = () => {\r\n    onLogout();\r\n  };\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      if (!event.target.closest('.logged-in-user-info')) {\r\n        setDropdownOpen(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener('click', handleClickOutside);\r\n\r\n    return () => {\r\n      document.removeEventListener('click', handleClickOutside);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"logged-in-user-info\">\r\n      <div className=\"user-info\" onClick={toggleDropdown} aria-haspopup=\"true\" aria-expanded={isDropdownOpen}>\r\n        <img src={userPicture} alt=\"User\" className=\"user-picture\" />\r\n        <span className=\"user-name\">{userInfo.name}</span>\r\n      </div>\r\n      <hr />\r\n      {isDropdownOpen && (\r\n        <div className=\"dropdown-menu\" role=\"menu\">\r\n          <div className=\"user-details\">\r\n            <p className=\"user-email\">{userInfo.email}</p>\r\n            <button className=\"logout-button\" onClick={handleLogout} role=\"menuitem\">Logout</button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoggedInUserInfo;\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport LoggedInUserInfo from '../components/LoggedInUserInfo';\r\n\r\ninterface Question {\r\n  id: number;\r\n  text: string;\r\n}\r\n\r\ninterface FormAnswer {\r\n  questionId: number;\r\n  answer: string;\r\n  file?: File;\r\n}\r\n\r\nconst UserInfoPage: React.FC<{ userInfo: { username: string, name: string, email: string, picture: string } }> = ({ userInfo }) => {\r\n  const [questions, setQuestions] = useState<Question[]>([]);\r\n  const [currentStep, setCurrentStep] = useState(0);\r\n  const [answers, setAnswers] = useState<FormAnswer[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  \r\n  useEffect(() => {\r\n    \r\n    const fetchQuestions = async () => {\r\n      try {\r\n        // Replace with your actual API endpoint\r\n        const response = await axios.get('/api/questions');\r\n        setQuestions(response.data);\r\n        setLoading(false);\r\n      } catch (error) {\r\n        console.error('Failed to fetch questions', error);\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    console.log(userInfo);\r\n    //fetchQuestions();\r\n  }, []);\r\n\r\n  const handleAnswerChange = (questionId: number, answer: string, file?: File) => {\r\n    setAnswers(prevAnswers => {\r\n      const existingAnswerIndex = prevAnswers.findIndex(a => a.questionId === questionId);\r\n      \r\n      if (existingAnswerIndex > -1) {\r\n        const updatedAnswers = [...prevAnswers];\r\n        updatedAnswers[existingAnswerIndex] = { questionId, answer, file };\r\n        return updatedAnswers;\r\n      }\r\n\r\n      return [...prevAnswers, { questionId, answer, file }];\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    \r\n    const formData = new FormData();\r\n    formData.append('username', userInfo.username);\r\n    \r\n    answers.forEach(answer => {\r\n      formData.append(`answers[${answer.questionId}][text]`, answer.answer);\r\n      if (answer.file) {\r\n        formData.append(`answers[${answer.questionId}][file]`, answer.file);\r\n      }\r\n    });\r\n\r\n    try {\r\n      await axios.post('/api/submit-application', formData, {\r\n        headers: { 'Content-Type': 'multipart/form-data' }\r\n      });\r\n      alert('Application submitted successfully!');\r\n    } catch (error) {\r\n      console.error('Submission failed', error);\r\n      alert('Failed to submit application');\r\n    }\r\n  };\r\n\r\n  const currentQuestion = questions[currentStep];\r\n\r\n  const handleLogout = () => {\r\n    // Implement your logout logic here\r\n    console.log('User logged out');\r\n  };\r\n\r\n  return (\r\n    <div className=\"user-info-page\">\r\n      <LoggedInUserInfo userInfo={userInfo} onLogout={handleLogout} />\r\n      <h2>Questions</h2>\r\n      {loading ? (\r\n        <p>Loading questions...</p>\r\n      ) : (\r\n        currentQuestion ? (\r\n          <form onSubmit={handleSubmit}>\r\n            <div className=\"question-container\">\r\n              <label>{currentQuestion.text}</label>\r\n              <textarea \r\n                onChange={(e) => handleAnswerChange(currentQuestion.id, e.target.value)}\r\n                required\r\n              />\r\n              <input \r\n                type=\"file\" \r\n                onChange={(e) => {\r\n                  const file = e.target.files?.[0];\r\n                  if (file) {\r\n                    handleAnswerChange(currentQuestion.id, answers.find(a => a.questionId === currentQuestion.id)?.answer || '', file);\r\n                  }\r\n                }} \r\n              />\r\n            </div>\r\n            \r\n            <div className=\"navigation-buttons\">\r\n              {currentStep > 0 && (\r\n                <button \r\n                  type=\"button\" \r\n                  onClick={() => setCurrentStep(prev => prev - 1)}\r\n                >\r\n                  Previous\r\n                </button>\r\n              )}\r\n              \r\n              {currentStep < questions.length - 1 ? (\r\n                <button \r\n                  type=\"button\" \r\n                  onClick={() => setCurrentStep(prev => prev + 1)}\r\n                >\r\n                  Next\r\n                </button>\r\n              ) : (\r\n                <button type=\"submit\">Submit Application</button>\r\n              )}\r\n            </div>\r\n          </form>\r\n        ) : (\r\n          <p>No questions available.</p>\r\n        )\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserInfoPage;","import React, { useState } from 'react';\r\nimport { googleLogout } from '@react-oauth/google';\r\nimport './app.css';\r\nimport LoginPage from './views/LoginPage';\r\nimport TermsPage from './views/TermsPage';\r\nimport UserInfoPage from './views/UserInfoPage';\r\nimport { jwtDecode } from 'jwt-decode';\r\n\r\nfunction App() {\r\n    const [page, setPage] = useState('login');\r\n    const [userInfo, setUserInfo] = useState(null);\r\n\r\n    const responseMessage = (response) => {\r\n        // Decode the credential to extract user information\r\n        const responseDetails = jwtDecode(response.credential);\r\n        try {\r\n            // The credential is already a decoded JWT in this case\r\n            const userDetails = {\r\n                name: responseDetails.name,\r\n                email: responseDetails.email,\r\n                givenName: responseDetails.givenName,\r\n                familyName: responseDetails.familyName,\r\n                picture: responseDetails.picture,\r\n                emailVerified: responseDetails.emailVerified,\r\n                domain: responseDetails.hd // If it's a Google Workspace account\r\n            };\r\n\r\n            console.log('User Details:', userDetails);\r\n            setUserInfo(userDetails);\r\n            setPage('terms');\r\n        } catch (error) {\r\n            console.error('Error processing user information:', error);\r\n        }\r\n    };\r\n\r\n    const errorMessage = (error) => {\r\n        console.log(error);\r\n    };\r\n\r\n    const acceptTerms = () => {\r\n        setPage('userInfo');\r\n    };\r\n\r\n    const rejectTerms = () => {\r\n        googleLogout();\r\n        setUserInfo(null);\r\n        setPage('login');\r\n    };\r\n\r\n    const renderPage = () => {\r\n        switch(page) {\r\n            case 'login':\r\n                return <LoginPage onSuccess={responseMessage} onError={errorMessage} />;\r\n            case 'terms':\r\n                return <TermsPage onAccept={acceptTerms} onReject={rejectTerms} />;\r\n            case 'userInfo':\r\n                return <UserInfoPage userInfo={userInfo} />;\r\n            default:\r\n                return null;\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"app\">\r\n            {renderPage()}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;","\nimport React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport { GoogleOAuthProvider } from '@react-oauth/google'; \nimport App from './app';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <GoogleOAuthProvider clientId=\"872731942146-p8188354vq1i19uaevo1g46dt6i4l79p.apps.googleusercontent.com\">\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </GoogleOAuthProvider>\n);"],"sourceRoot":""}